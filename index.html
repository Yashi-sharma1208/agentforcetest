<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chat with Agentforce Agent</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
    #chatContainer {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 350px;
      height: 500px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      border-radius: 10px;
      overflow: hidden;
    }
    #chatHeader { background: #00a1e0; color: white; padding: 10px; }
    #chatFrame { width: 100%; height: calc(100% - 50px); border: none; }
  </style>
</head>
<body>

<div id="chatContainer">
  <div id="chatHeader">Chat with Agent</div>
  <iframe id="chatFrame" src="" title="Agent chat"></iframe>
</div>

<script>
  // TODO: update these variables with your org details
  const myDomain        = "orgfarm-fc63a0ccc4-dev-ed.develop.my.salesforce.com";        // your Salesforce My Domain
  const deploymentId    = "04IdL000000tQhpUAE";                           // Embedded Service Deployment Id
  const chatChannelId   = "0MjdL000000rohpSAA";                              // Messaging for Web channel Id
  const orgId           = "00DdL00000fWhmz";                                  // Salesforce Org Id (18-char)
  const sessionUserName = "Yashi Sharma";                                // e.g., define a user placeholder
  
  // Build the embedded service URL (per MIAW API docs)  
  const chatUrl = `${myDomain}/embeddedservice/messaging.js` +
                  `?deploymentId=${deploymentId}` +
                  `&channelId=${chatChannelId}` +
                  `&orgId=${orgId}` +
                  `&userName=${encodeURIComponent(sessionUserName)}`;
  
  document.getElementById('chatFrame').src = chatUrl;
</script>

</body>
</html>
